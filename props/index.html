<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>_licence | 千目3D地图api使用说明</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/qianmu/assets/css/0.styles.4226b751.css" as="style"><link rel="preload" href="/qianmu/assets/js/app.9e967e4a.js" as="script"><link rel="preload" href="/qianmu/assets/js/2.98480eb1.js" as="script"><link rel="preload" href="/qianmu/assets/js/9.064e53cd.js" as="script"><link rel="prefetch" href="/qianmu/assets/js/3.d9ef3586.js"><link rel="prefetch" href="/qianmu/assets/js/4.09fd2c39.js"><link rel="prefetch" href="/qianmu/assets/js/5.fc791712.js"><link rel="prefetch" href="/qianmu/assets/js/6.ffe6f60a.js"><link rel="prefetch" href="/qianmu/assets/js/7.67a25ebd.js"><link rel="prefetch" href="/qianmu/assets/js/8.b3e9e433.js">
    <link rel="stylesheet" href="/qianmu/assets/css/0.styles.4226b751.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/qianmu/" class="home-link router-link-active"><!----> <span class="site-name">千目3D地图api使用说明</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/qianmu/" aria-current="page" class="sidebar-link">入门</a></li><li><a href="/qianmu/props/" aria-current="page" class="active sidebar-link">属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/qianmu/props/#licence" class="sidebar-link">_licence</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#defaultset" class="sidebar-link">_defaultSet</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/qianmu/props/#debug" class="sidebar-link">debug</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#shopdata" class="sidebar-link">shopData</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#navdata" class="sidebar-link">navData</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#mapcontainer" class="sidebar-link">mapContainer</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#navmodelname" class="sidebar-link">navModelName</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#startmodelname" class="sidebar-link">startModelName</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#endmodelname" class="sidebar-link">endModelName</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#arrowmodelname" class="sidebar-link">arrowModelName</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#onecameramodelname" class="sidebar-link">oneCameraModelName</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#selectbox" class="sidebar-link">selectBox</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#defaultsprite" class="sidebar-link">defaultSprite</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#mapwidth" class="sidebar-link">mapWidth</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#mapheight" class="sidebar-link">mapHeight</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#mapxoffset" class="sidebar-link">mapXoffSet</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#mapyoffset" class="sidebar-link">MapYoffSet</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#shopinfodialog" class="sidebar-link">shopInfoDiaLog</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#lifttype" class="sidebar-link">liftType</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#armspeed" class="sidebar-link">armSpeed</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#runspeed" class="sidebar-link">runSpeed</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#maxspeedzoom" class="sidebar-link">maxSpeedZoom</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#autohide" class="sidebar-link">autoHide</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#autoreplay" class="sidebar-link">autoReplay</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#replayreset" class="sidebar-link">replayReset</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#finishrunclick" class="sidebar-link">finishRunClick</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#showtakedownanimate" class="sidebar-link">showTakeDownAnimate</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#showtakedownanimateset" class="sidebar-link">showTakeDownAnimateSet</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#linestyle" class="sidebar-link">lineStyle</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#foldfloor" class="sidebar-link">foldFloor</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#boxcolorset" class="sidebar-link">boxColorSet</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#findfacilities" class="sidebar-link">findFacilities</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#textfont" class="sidebar-link">textFont</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#arrow" class="sidebar-link">arrow</a></li></ul></li><li class="sidebar-sub-header"><a href="/qianmu/props/#lightset" class="sidebar-link">_lightSet</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#defaultcameraset" class="sidebar-link">_defaultCameraSet</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#cursormodels" class="sidebar-link">_cursorModels</a></li><li class="sidebar-sub-header"><a href="/qianmu/props/#floormodel" class="sidebar-link">_floorModel</a></li></ul></li><li><a href="/qianmu/methods/" class="sidebar-link">方法</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="licence"><a href="#licence" class="header-anchor">#</a> _licence</h2> <ul><li><strong>描述:</strong> 许可证 可向商务部获取</li> <li><strong>类型:</strong> Object</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
      user<span class="token operator">:</span> <span class="token string">'南京千目信息科技'</span><span class="token punctuation">,</span>
      code<span class="token operator">:</span> <span class="token punctuation">{</span> licence<span class="token operator">:</span> <span class="token string">'7b8e4670e38dcd493427296d78725604'</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> data<span class="token operator">:</span> <span class="token number">1605283200</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token string">''</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="defaultset"><a href="#defaultset" class="header-anchor">#</a> _defaultSet</h2> <ul><li><p><strong>描述:</strong> 基础配置</p></li> <li><p><strong>类型:</strong> Object</p> <h3 id="debug"><a href="#debug" class="header-anchor">#</a> debug</h3> <ul><li><p><strong>描述:</strong> 是否开启调试模式 默认不开启</p></li> <li><p><strong>类型:</strong> Boolean</p></li> <li><p><strong>默认值:</strong> false</p></li></ul> <h3 id="shopdata"><a href="#shopdata" class="header-anchor">#</a> shopData</h3> <ul><li><p><strong>描述:</strong> 店铺json文件路径(json文件名称不建议修改)</p></li> <li><p><strong>类型:</strong> String</p></li> <li><p><strong>默认值:</strong> './static/offline/JSON/QueryShopList.json'</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>_defaultSet <span class="token operator">=</span> <span class="token punctuation">{</span>
  shopData<span class="token operator">:</span> <span class="token string">'./static/offline/JSON/QueryShopList.json'</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h3 id="navdata"><a href="#navdata" class="header-anchor">#</a> navData</h3> <ul><li><strong>描述:</strong>  地图导航点位设施数据(json文件名称不建议修改)</li> <li><strong>类型:</strong> String</li> <li><strong>默认值:</strong> './static/offline/JSON/GetMapInfo.json'</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>_defaultSet  <span class="token operator">=</span><span class="token punctuation">{</span>
navData<span class="token operator">:</span> <span class="token string">'./static/offline/JSON/GetMapInfo.json'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="mapcontainer"><a href="#mapcontainer" class="header-anchor">#</a> mapContainer</h3> <ul><li><strong>描述:</strong>  地图容器(可通过document.getElementById获取)</li> <li><strong>类型:</strong>  DOM</li></ul> <p>​</p> <h3 id="navmodelname"><a href="#navmodelname" class="header-anchor">#</a> navModelName</h3> <ul><li><strong>描述:</strong> 寻路时展示行走运动的模型内部命名 (不建议修改)</li> <li><strong>类型:</strong> String</li> <li><strong>默认值:</strong> 'navCursor'</li></ul> <h3 id="startmodelname"><a href="#startmodelname" class="header-anchor">#</a> startModelName</h3> <ul><li><strong>描述:</strong>  模拟导航时起点图标的模型内部命名 (不建议修改)</li> <li><strong>类型:</strong> String</li> <li><strong>默认值:</strong> 'startNavCursor'</li></ul> <h3 id="endmodelname"><a href="#endmodelname" class="header-anchor">#</a> endModelName</h3> <ul><li><strong>描述:</strong>  模拟导航时终点图标的模型内部命名 (不建议修改)</li> <li><strong>类型:</strong> String</li> <li><strong>默认值:</strong> 'endNavCursor'</li></ul> <h3 id="arrowmodelname"><a href="#arrowmodelname" class="header-anchor">#</a> arrowModelName</h3> <ul><li><strong>描述:</strong>  寻路时地板指向的图标模型内部命名 (不建议修改)</li> <li><strong>类型:</strong> String</li> <li><strong>默认值:</strong> 'navArrow'</li></ul> <h3 id="onecameramodelname"><a href="#onecameramodelname" class="header-anchor">#</a> oneCameraModelName</h3> <ul><li><strong>描述:</strong>  切换到第一人称时指向的图标模型内部命名 (不建议修改)</li> <li><strong>类型:</strong> String</li> <li><strong>默认值:</strong> 'oneCameraCursor'</li></ul> <h3 id="selectbox"><a href="#selectbox" class="header-anchor">#</a> selectBox</h3> <ul><li><strong>描述:</strong>  点击店铺box时的模型姿态</li> <li><strong>类型:</strong> Object</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>_defaultSet  <span class="token operator">=</span><span class="token punctuation">{</span>
selectBox<span class="token operator">:</span><span class="token punctuation">{</span> 
  boxUp<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">//店铺box弹起的高度 </span>
  boxColor<span class="token operator">:</span> <span class="token string">'#f9a566'</span><span class="token punctuation">,</span> <span class="token comment">//店铺box选中时的颜色</span>
  spriteUp<span class="token operator">:</span> <span class="token number">0.25</span> <span class="token comment">// 文字 不建议修改</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="defaultsprite"><a href="#defaultsprite" class="header-anchor">#</a> defaultSprite</h3> <ul><li><strong>描述:</strong>  点击店铺box时的模型姿态</li> <li><strong>类型:</strong> Object</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>_defaultSet  <span class="token operator">=</span><span class="token punctuation">{</span>
  defaultSprite<span class="token operator">:</span> <span class="token punctuation">{</span>
    sprite<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//可忽略，内部保留</span>
    facilities<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//可忽略，内部保留</span>
    fontSize<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token comment">//展示店铺名称的字体大小</span>
    fontColor<span class="token operator">:</span> <span class="token string">'#000000'</span><span class="token punctuation">,</span> <span class="token comment">//展示店铺名称的字体颜色</span>
    facilitiesT<span class="token operator">:</span> <span class="token string">'3D'</span><span class="token punctuation">,</span> <span class="token comment">//设施ICON图标展现形式 默认为3D 可选2D</span>
    facilitiesW<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token comment">//展示的图标宽度，3D模式不起作用</span>
    facilitiesH<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token comment">//展示的图标高度度，3D模式不起作用</span>
    facilities3DScale<span class="token operator">:</span> <span class="token number">0.9</span><span class="token punctuation">,</span> <span class="token comment">//展示的图标的大小比例，2D模式不起作用</span>
    facilitiesY<span class="token operator">:</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token comment">//展示设施的上下偏移量</span>
    spriteCss<span class="token operator">:</span> <span class="token string">'cubeLabel no-selected'</span><span class="token punctuation">,</span> <span class="token comment">//店铺展示文字的css样式（QmMapCss.css）</span>
    spriteImgPath<span class="token operator">:</span> <span class="token string">'./static/images/'</span> <span class="token comment">//设施的图片路径</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="mapwidth"><a href="#mapwidth" class="header-anchor">#</a> mapWidth</h3> <ul><li><strong>描述:</strong>  展示地图的DOM宽度 即上面配置的mapContainer容器的宽度</li> <li><strong>类型:</strong> Number</li> <li><strong>默认值:</strong> 屏幕可视区域宽度 即window.innerWidth</li></ul> <h3 id="mapheight"><a href="#mapheight" class="header-anchor">#</a> mapHeight</h3> <ul><li><strong>描述:</strong>  展示地图的DOM高度 即上面配置的mapContainer容器的高度</li> <li><strong>类型:</strong> Number</li> <li><strong>默认值:</strong> 屏幕可视区域宽度 即window.innerHeight</li></ul> <h3 id="mapxoffset"><a href="#mapxoffset" class="header-anchor">#</a> mapXoffSet</h3> <ul><li><strong>描述:</strong>  地图DOM左偏移 即地图dom容器offsetLeft值</li> <li><strong>类型:</strong> Number</li> <li><strong>默认值:</strong> 0</li></ul> <h3 id="mapyoffset"><a href="#mapyoffset" class="header-anchor">#</a> MapYoffSet</h3> <ul><li><strong>描述:</strong>  地图DOM左偏移 即地图dom容器offsetTop值</li> <li><strong>类型:</strong> Number</li> <li><strong>默认值:</strong> 0</li></ul> <h3 id="shopinfodialog"><a href="#shopinfodialog" class="header-anchor">#</a> shopInfoDiaLog</h3> <ul><li><strong>描述:</strong>  点击店铺mesh的弹框</li> <li><strong>类型:</strong> Object</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>_defaultSet  <span class="token operator">=</span><span class="token punctuation">{</span>
  shopInfoDialog<span class="token operator">:</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'shopInfo'</span><span class="token punctuation">,</span> <span class="token comment">//弹框中显示店铺名称的Id DOM的id名</span>
      shopName<span class="token operator">:</span> <span class="token string">'shopName'</span><span class="token punctuation">,</span>  <span class="token comment">//弹框中显示店铺名称的Id</span>
      mapGo<span class="token operator">:</span> <span class="token string">'handleNav'</span><span class="token punctuation">,</span> <span class="token comment">//弹框中点GO开始寻路的Dom id和前端处理的方法（保持统一）</span>
      shopDetail<span class="token operator">:</span> <span class="token string">'handleMapDetail'</span><span class="token punctuation">,</span> <span class="token comment">//弹框中点击详情的Domid和前端处理的方法（保持统一)</span>
      position<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//弹框的坐标偏移</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="lifttype"><a href="#lifttype" class="header-anchor">#</a> liftType</h3> <ul><li><strong>描述:</strong>  扶梯/电梯的设置</li> <li><strong>类型:</strong> Object</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>_defaultSet  <span class="token operator">=</span><span class="token punctuation">{</span>
  liftType<span class="token operator">:</span> <span class="token punctuation">{</span>
      lift<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">//电梯的Type值 默认为5 如需更改 请联系地图开发人员</span>
      stair<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//扶梯的Type值 默认为0 如需更改 请联系地图开发人员</span>
      stairType<span class="token operator">:</span> <span class="token punctuation">{</span>  
        type<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//1:3D模型 0:图标(可选)</span>
        up<span class="token operator">:</span> <span class="token string">'upStair'</span><span class="token punctuation">,</span>  <span class="token comment">//上楼电梯模型名</span>
        down<span class="token operator">:</span> <span class="token string">'downStair'</span> <span class="token comment">//下楼电梯模型名</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span>
      liftType<span class="token operator">:</span> <span class="token punctuation">{</span> 
        type<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//1:3D模型 0:图标(可选)</span>
        name<span class="token operator">:</span> <span class="token string">'lift'</span> <span class="token comment">//电梯模型名</span>
       <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="armspeed"><a href="#armspeed" class="header-anchor">#</a> armSpeed</h3> <ul><li><strong>描述:</strong>  导航时小人模型手臂摇摆速度</li> <li><strong>类型:</strong> Number</li> <li><strong>默认值:</strong> 2.2 值越大 摇摆越快 反之越慢 不建议修改</li></ul> <h3 id="runspeed"><a href="#runspeed" class="header-anchor">#</a> runSpeed</h3> <ul><li><strong>描述:</strong>  导航时小人行走速度 或导航箭头速度</li> <li><strong>类型:</strong> Number</li> <li><strong>默认值:</strong> 300 值越大 速度越快反之越慢 不建议修改</li></ul> <h3 id="maxspeedzoom"><a href="#maxspeedzoom" class="header-anchor">#</a> maxSpeedZoom</h3> <ul><li><strong>描述:</strong>  最大速度倍数</li> <li><strong>类型:</strong> Number</li> <li><strong>默认值:</strong> 2 不建议修改</li></ul> <h3 id="autohide"><a href="#autohide" class="header-anchor">#</a> autoHide</h3> <ul><li><strong>描述:</strong>  到达终点小人模型是否自动隐藏</li> <li><strong>类型:</strong> Boolean</li> <li><strong>默认值:</strong> false</li></ul> <h3 id="autoreplay"><a href="#autoreplay" class="header-anchor">#</a> autoReplay</h3> <ul><li><strong>描述:</strong>  是否自动重播</li> <li><strong>类型:</strong> Boolean</li> <li><strong>默认值:</strong> false</li></ul> <h3 id="replayreset"><a href="#replayreset" class="header-anchor">#</a> replayReset</h3> <ul><li><strong>描述:</strong>  重播是否重置摄像机角度</li> <li><strong>类型:</strong> Boolean</li> <li><strong>默认值:</strong> false</li></ul> <h3 id="finishrunclick"><a href="#finishrunclick" class="header-anchor">#</a> finishRunClick</h3> <ul><li><strong>描述:</strong>  寻路结束是否允许点击</li> <li><strong>类型:</strong> Boolean</li> <li><strong>默认值:</strong> false</li></ul> <h3 id="showtakedownanimate"><a href="#showtakedownanimate" class="header-anchor">#</a> showTakeDownAnimate</h3> <ul><li><strong>描述:</strong>  上下楼时指示从当前层指示去目的层的动画</li> <li><strong>类型:</strong> Object</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>_defaultSet  <span class="token operator">=</span><span class="token punctuation">{</span>
  showTakeDownAnimate<span class="token operator">:</span><span class="token punctuation">{</span> 
    show<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//是否启用 默认为false不启用</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">//坐标偏移</span>
    speed<span class="token operator">:</span> <span class="token number">3000</span> <span class="token comment">//动画速度 默认3000</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="showtakedownanimateset"><a href="#showtakedownanimateset" class="header-anchor">#</a> showTakeDownAnimateSet</h3> <ul><li><strong>描述:</strong>  上下楼时指示从当前层指示去目的层的动画 默认为json模型配置</li> <li><strong>类型:</strong> Object</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>_defaultSet  <span class="token operator">=</span><span class="token punctuation">{</span>
  <span class="token comment">//json模型推荐 { x: 1.5, y: 1.1, z: 1.5, speed: 2000 }</span>
  <span class="token comment">//dae模型推荐 {x: 1.7, y: 1.15, z: 1.7, speed: 3000}</span>
  showTakeDownAnimateSet<span class="token operator">:</span><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">1.5</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">1.1</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token number">1.5</span><span class="token punctuation">,</span> speed<span class="token operator">:</span> <span class="token number">2000</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> 
<span class="token punctuation">}</span>
</code></pre></div><h3 id="linestyle"><a href="#linestyle" class="header-anchor">#</a> lineStyle</h3> <ul><li><strong>描述:</strong>  寻路时展现的线条 即导航路线</li> <li><strong>类型:</strong> Object</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>_defaultSet  <span class="token operator">=</span><span class="token punctuation">{</span>
  lineStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
    show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//是否启用 默认为true</span>
    color<span class="token operator">:</span> <span class="token string">'#d89c56'</span><span class="token punctuation">,</span> <span class="token comment">//线条颜色 默认#d89c56</span>
    borderColor<span class="token operator">:</span> <span class="token string">'#b37834'</span><span class="token punctuation">,</span> <span class="token comment">//线条描边颜色 默认#b37834</span>
    lineWidth<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">//线条宽度 默认5</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token comment">//坐标偏移</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="foldfloor"><a href="#foldfloor" class="header-anchor">#</a> foldFloor</h3> <ul><li><strong>描述:</strong>  叠层设置 (注：单层寻路或双层以上无效)</li> <li><strong>类型:</strong> Object</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>_defaultSet  <span class="token operator">=</span><span class="token punctuation">{</span>
  lineStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
    status<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">//是否启用 默认为false</span>
    distance<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//支持几层叠加且每层之间的间隔距离</span>
    labelStatus<span class="token operator">:</span><span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="boxcolorset"><a href="#boxcolorset" class="header-anchor">#</a> boxColorSet</h3> <ul><li><strong>描述:</strong>  店铺box设置 与店铺数据联合使用 以下key的值必须在queryshoplist.json文件里定义</li> <li><strong>类型:</strong> Object</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>_defaultSet  <span class="token operator">=</span><span class="token punctuation">{</span>
  boxColorSet<span class="token operator">:</span> <span class="token punctuation">{</span>
    boxColor<span class="token operator">:</span> <span class="token string">'formatColor'</span><span class="token punctuation">,</span> <span class="token comment">//渲染店铺mesh颜色时取得店铺数据key</span>
    borderColor<span class="token operator">:</span> <span class="token string">'borderColor'</span><span class="token punctuation">,</span> <span class="token comment">//渲染店铺mesh描边颜色时取得店铺数据key</span>
    boxNum<span class="token operator">:</span> <span class="token string">'houseNum'</span><span class="token punctuation">,</span> <span class="token comment">//关联店铺编号houseNumber时取得店铺数据key</span>
    spritePosition<span class="token operator">:</span> <span class="token string">'xaxis'</span><span class="token punctuation">,</span> <span class="token comment">//展现店铺名称文字时的坐标</span>
    navPoint<span class="token operator">:</span> <span class="token string">'yaxis'</span><span class="token punctuation">,</span> <span class="token comment">//店铺导航的点位</span>
    shopName<span class="token operator">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token comment">//店铺的名称</span>
    floorOrder<span class="token operator">:</span> <span class="token string">'floorOrder'</span> <span class="token comment">//店铺所在楼层的order</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="findfacilities"><a href="#findfacilities" class="header-anchor">#</a> findFacilities</h3> <ul><li><strong>描述:</strong>  导航设施基本配置</li> <li><strong>类型:</strong> Object</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>_defaultSet  <span class="token operator">=</span><span class="token punctuation">{</span>
  findFacilities<span class="token operator">:</span> <span class="token punctuation">{</span> 
    funcName<span class="token operator">:</span> <span class="token string">'findFacilities'</span><span class="token punctuation">,</span>  <span class="token comment">//点击设施寻路Go时的处理方法 可参考公司vue导视项目如何定义的</span>
    findObj<span class="token operator">:</span> <span class="token string">'findFacilitiesInfo'</span> <span class="token comment">//点击寻设施的Go Obj名称（不建议修改）</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="textfont"><a href="#textfont" class="header-anchor">#</a> textFont</h3> <ul><li><strong>描述:</strong>  3D英文的字体 如无英文需求无需修改</li> <li><strong>类型:</strong> Object</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>_defaultSet <span class="token operator">=</span> <span class="token punctuation">{</span>
  textFont<span class="token operator">:</span> <span class="token punctuation">{</span> 
    enFontPath<span class="token operator">:</span> <span class="token string">'./static/js/en.json'</span> <span class="token comment">//3D英文的字体路径</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="arrow"><a href="#arrow" class="header-anchor">#</a> arrow</h3> <ul><li><strong>描述:</strong>  寻路时箭头样式配置</li> <li><strong>类型:</strong> Object</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>_defaultSet  <span class="token operator">=</span><span class="token punctuation">{</span>
  arrow<span class="token operator">:</span> <span class="token punctuation">{</span>
    show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//是否展现</span>
    animate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//是否启用动画</span>
    objName<span class="token operator">:</span> <span class="token string">'navArrowGroup'</span><span class="token punctuation">,</span> <span class="token comment">//定义箭头的名称（不建议修改）</span>
    imagePath<span class="token operator">:</span> <span class="token string">'./static/images/jt.png'</span><span class="token punctuation">,</span> <span class="token comment">//箭头的图片样式路径 路径 名称不建议修改</span>
    speed<span class="token operator">:</span> <span class="token number">0.03</span><span class="token punctuation">,</span> <span class="token comment">//移动速度：(启用动画时有效)</span>
    scale<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token comment">//箭头大小缩放</span>
    arrowOffset<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//内部保留</span>
    placeLength<span class="token operator">:</span> <span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token comment">//间隔距离</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0.2</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token comment">//箭头偏移</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="lightset"><a href="#lightset" class="header-anchor">#</a> _lightSet</h2> <ul><li><strong>描述:</strong> 地图灯光设置</li> <li><strong>类型:</strong> Array</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>_lightSet <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> 
    name<span class="token operator">:</span> <span class="token string">'AmbientLight'</span><span class="token punctuation">,</span> <span class="token comment">//所用灯光类型名称 </span>
    color<span class="token operator">:</span> <span class="token string">'#ffffff'</span><span class="token punctuation">,</span>  <span class="token comment">//灯光颜色</span>
    intensity<span class="token operator">:</span> <span class="token number">0.8</span>  <span class="token comment">//灯光强度</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'DirectionalLight'</span><span class="token punctuation">,</span>
    color<span class="token operator">:</span> <span class="token string">'#ffffff'</span><span class="token punctuation">,</span>
    intensity<span class="token operator">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//灯光坐标</span>
    castShadow<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">//灯光是否启用阴影效果</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><h2 id="defaultcameraset"><a href="#defaultcameraset" class="header-anchor">#</a> _defaultCameraSet</h2> <ul><li><strong>描述:</strong> 默认视图设置</li> <li><strong>类型:</strong> Object</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>_defaultCameraSet <span class="token operator">=</span> <span class="token punctuation">{</span>
  cameraPosition<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token number">40</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//相机坐标</span>
  controlTarget<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//控制器坐标</span>
  cameraFov<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token comment">//相机角度</span>
  cameraNear<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">//相机最近可视距离    json模型推荐</span>
  cameraFar<span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span> <span class="token comment">//相机最远可视距离   json模型推荐:100000 dae模型推荐 :000</span>
  minDistance<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment">//最小放大倍数</span>
  maxDistance<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token comment">//最大放大倍数</span>
  minPolarAngle<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//地图最小旋转仰角</span>
  maxPolarAngle<span class="token operator">:</span> <span class="token number">1.3</span> <span class="token comment">//地图最大旋转仰角</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="cursormodels"><a href="#cursormodels" class="header-anchor">#</a> _cursorModels</h2> <ul><li><strong>描述:</strong> 模型加载列表 不建议修改</li> <li><strong>类型:</strong> Array</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>_cursorModels <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'navCursor'</span><span class="token punctuation">,</span> <span class="token comment">//模型名称（注：以上如果有涉及模型名称，保持与此名称对应）</span>
    path<span class="token operator">:</span> <span class="token string">'./static/images/runMan.fbx'</span><span class="token punctuation">,</span> <span class="token comment">//小人模型路径</span>
    color<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span> <span class="token comment">//child名称</span>
        color<span class="token operator">:</span> <span class="token number">0xfe9219</span> <span class="token comment">//颜色</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    scale<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0.003</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0.003</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token number">0.003</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//放大缩小倍数</span>
    path<span class="token operator">:</span> <span class="token string">&quot;images/2dNavCursor.dae&quot;</span><span class="token punctuation">,</span>  <span class="token comment">//箭头</span>
    <span class="token comment">/*color: [
      {
        name: 'object_8', 
        color: '#FFFEFC', 
        op: 1 //透明度
      },
      {name: 'object_7', color: '#F0C391', op: 1},
      {name: 'object_6', color: '#EC993B', op: 1},
      {name: 'object_5', color: '#F0C391', op: 1},
      {name: 'object_4', color: '#F3DEC8', op: 1},
      {name: 'object_3', color: '#F3DEC8', op: 1},
      {name: 'object_2', color: '#ffffff', op: 1},
      {name: 'object_1', color: '#F4EFE9', op: 1}
    ],*/</span>
    scale<span class="token operator">:</span> <span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">0.2</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0.2</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token number">0.2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//模型偏移度</span>
    renderOrderNum<span class="token operator">:</span> <span class="token number">9999</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><h2 id="floormodel"><a href="#floormodel" class="header-anchor">#</a> _floorModel</h2> <ul><li><strong>描述:</strong> 商场楼层模型加载列表</li> <li><strong>类型:</strong> Object</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>_floorModel <span class="token operator">=</span> <span class="token punctuation">{</span>
  model<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'./static/model/B1.json'</span><span class="token punctuation">,</span> <span class="token comment">//模型路径</span>
      name<span class="token operator">:</span> <span class="token string">'B1'</span><span class="token punctuation">,</span> <span class="token comment">//模型名称 建议跟模型文件一致</span>
      scale<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//放大缩小倍数 不建议修改</span>
      rotation<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">90</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//旋转角度</span>
      cameraPosition<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">1.01</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">14.86</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token number">32.07</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//相机角度 可打开debug模式 细调</span>
      controlTarget<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0.77</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">39.91</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">0.8</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//控制器角度 可打开debug模式 细调</span>
      <span class="token comment">//自定义文字在当前楼层</span>
      text<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> 
          type<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//3D:0 </span>
          text<span class="token operator">:</span> <span class="token string">'B1'</span><span class="token punctuation">,</span> <span class="token comment">//名称</span>
          size<span class="token operator">:</span> <span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token comment">//大小</span>
          color<span class="token operator">:</span> <span class="token string">'#caa679'</span><span class="token punctuation">,</span> <span class="token comment">//颜色</span>
          position<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">12</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">5</span> <span class="token punctuation">}</span> <span class="token comment">//坐标</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/qianmu/" class="prev router-link-active">
        入门
      </a></span> <span class="next"><a href="/qianmu/methods/">
        方法
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/qianmu/assets/js/app.9e967e4a.js" defer></script><script src="/qianmu/assets/js/2.98480eb1.js" defer></script><script src="/qianmu/assets/js/9.064e53cd.js" defer></script>
  </body>
</html>
